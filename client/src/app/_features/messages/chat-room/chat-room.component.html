<div
  class="card-footer col-md-12 bg-dark"
  style="width: 99.6%;"
  *ngIf="messages && messages.length > 0"
>
  <img
    [src]="User ? User.url : './assets/default-avatar.png'"
    alt=""
    class="img-responsive rounded-circle ms-3 mt-1"
    style="width: 60px"
  />
  <h5 class="ms-3" style="display: inline-block; color: #fff">
    {{ User?.username }}
  </h5>
</div>

<div class="" id="messageBox" *ngIf="messages && messages.length > 0">
  <ul class="card-body" style="list-style: none">
    <li
      *ngFor="let message of messages"
      [ngClass]="
        message.senderUsername === currentUser
          ? 'float-end me-3'
          : 'float-start ms-3'
      "
      class="mt-3"
      style="max-width: 400px"
    >
      <table class="table">
        <tbody>
          <tr
            [ngClass]="
              message.senderUsername === currentUser
                ? 'table-info'
                : 'table-light'
            "
          >
            <th scope="row">
              <img
                [src]="message.senderPhotoUrl"
                alt=""
                width="55px"
                class="img-responsive rounded-circle"
              />
            </th>

            <td>
              <span>
                {{ message.content }}
              </span>
            </td>

            <th scope="row">
              <span class="badge bg-dark rounded-pill"
                >{{ message.dateSend | timestamp }}
              </span>
            </th>
          </tr>
        </tbody>
      </table>
    </li>
  </ul>
</div>
<form
  class="form-inline card-footer container"
  #messageForm="ngForm"
  (ngSubmit)="onPostMessage(messageForm)"
>
  <table class="table">
    <tbody>
      <th scope="row">
        <textarea
          type="text"
          name="message"
          class="form-control"
          placeholder="Message..."
          [rows]="1"
          id="new-message"
          ngModel
          required
        >
        </textarea>
      </th>
      <td style="max-width: 0; width: 0%;">
        <button
          id="message-btn"
          type="submit"
          *ngIf="messageForm.valid"
          class="btn float-end"
        >
          Send
        </button>
      </td>
    </tbody>
  </table>
</form>
